select("logger_ID", "Sibbaldia.procumbens", "geom")
snowbeds_tif <- list.files("~/Desktop/GitHub/MEC8_Snowbed_Alpine_Species/Data/snow_cover_maps" ,pattern = "tif$", full.names=T)
snowbed_list <-  rast(snowbeds_tif)
plot(snowbed_list)
names(snowbed_list)
years <- stringr::str_extract(names(snowbed_list), "\\d{4}") %>% as.numeric()
months <- stringr::str_extract(names(snowbed_list), "\\d_\\d_")
snowbed_pres_1_7 <- snowbed_list[[years >= 2015 & years <= 2025 & months == "1_7_"]]
snowbed_fut_1_7  <- snowbed_list[[years >= 2090 & years <= 2100 & months == "1_7_"]]
plot(snowbed_pres_1_7)
plot(snowbed_fut_1_7)
snowbed_pres_1_7_sum <- app(snowbed_pres_1_7, mean)
snowbed_fut_1_7_sum <- app(snowbed_fut_1_7, mean)
plot(snowbed_pres_1_7_sum)
plot(snowbed_fut_1_7_sum)
snowbed_pres_1_5 <- snowbed_list[[years >= 2015 & years <= 2025 & months == "1_5_"]]
snowbed_fut_1_5  <- snowbed_list[[years >= 2090 & years <= 2100 & months == "1_5_"]]
plot(snowbed_pres_1_5)
plot(snowbed_fut_1_5)
snowbed_pres_1_5_sum <- app(snowbed_pres_1_5, mean)
snowbed_fut_1_5_sum <- app(snowbed_fut_1_5, mean)
plot(snowbed_pres_1_5_sum)
plot(snowbed_fut_1_5_sum)
plot(snowbed_pres_1_7_sum)
points(g_supinum_data$geom[g_supinum_data$pres == 1], col="red", pch = 16, cex=1)
points(l_alpinospinosa_data$geom[l_alpinospinosa_data$pres == 1], col="purple", pch = 16, cex=1)
points(s_herbacea_data$geom[s_herbacea_data$pres == 1], col="blue", pch = 16, cex=1)
points(s_procumbens_data$geom[s_procumbens_data$pres ==1], col="green", pch = 16, cex=1)
pres_1_7_mean <- terra::extract(snowbed_pres_1_7_sum, geo_data, ID = FALSE)
names(pres_1_7_mean) <- "pres_1_7"
fut_1_7_mean <- terra::extract(snowbed_fut_1_7_sum, geo_data, ID = FALSE)
names(fut_1_7_mean) <- "fut_1_7"
g_supinum_data <- data.frame(g_supinum_data, pres_1_7_mean, fut_1_7_mean)
l_alpinospinosa_data <- data.frame(l_alpinospinosa_data, pres_1_7_mean, fut_1_7_mean)
s_herbacea_data <- data.frame(s_herbacea_data, pres_1_7_mean, fut_1_7_mean)
s_procumbens_data <- data.frame(s_procumbens_data, pres_1_7_mean, fut_1_7_mean)
g_supinum_data <- data.frame(g_supinum_data, pres_1_7_mean, fut_1_7_mean, pres_1_5_mean, fut_1_5_mean)
pres_1_5_mean <- terra::extract(snowbed_pres_1_5_sum, geo_data, ID = FALSE)
names(pres_1_5_mean) <- "pres_1_5"
fut_1_5_mean <- terra::extract(snowbed_fut_1_5_sum, geo_data, ID = FALSE)
names(fut_1_5_mean) <- "fut_1_5"
g_supinum_data <- data.frame(g_supinum_data, pres_1_7_mean, fut_1_7_mean, pres_1_5_mean, fut_1_5_mean)
g_supinum_data
g_supinum_data <- all_data %>%
mutate(pres = Gnaphalium.supinum) %>%
select("logger_ID", "pres", "geom")
l_alpinospinosa_data <- all_data %>%
mutate(pres = Luzula.alpino.pilosa) %>%
select("logger_ID", "Luzula.alpino.pilosa", "geom")
s_herbacea_data <- all_data %>%
mutate(pres = Salix.herbacea) %>%
select("logger_ID", "Salix.herbacea" , "geom")
s_procumbens_data <- all_data %>%
mutate(pres = Sibbaldia.procumbens) %>%
select("logger_ID", "Sibbaldia.procumbens", "geom")
g_supinum_data <- data.frame(g_supinum_data, pres_1_7_mean, fut_1_7_mean, pres_1_5_mean, fut_1_5_mean)
l_alpinospinosa_data <- data.frame(l_alpinospinosa_data, pres_1_7_mean, fut_1_7_mean, pres_1_5_mean, fut_1_5_mean)
s_herbacea_data <- data.frame(s_herbacea_data, pres_1_7_mean, fut_1_7_mean, pres_1_5_mean, fut_1_5_mean)
s_procumbens_data <- data.frame(s_procumbens_data, pres_1_7_mean, fut_1_7_mean, pres_1_5_mean, fut_1_5_mean)
l_alpinospinosa_data
g_supinum_pres_1_7
# this needs changing
snowcover_days_fun <- function(species_data, raster_list){
coord <- vect(species_data$geom)
values <- terra::extract(raster_list, coord)
snowcover_days <- values %>%
mutate(mean_days = rowMeans(values[,-1]))
result <- bind_cols(species_data %>%
select(geom, logger_ID),
snowcover_days[,-1]
)
}
# Present January - July  -------------------------------------------------
# Gnaphalium.supinum --------------------------------------------------------------
g_supinum_pres_1_7 <- snowcover_days_fun(g_supinum_data, snowbed_pres_1_7)
g_supinum_pres_1_7
snowbed_pres_1_7
g_supinum_pres_1_7
g_supinum_data
ggplot(g_supinum_data, y = pres_1_7_mean)+
geom_boxplot()
g_supinum_data
ggplot(g_supinum_data, y = pres_1_7_mean, x = pres)+
geom_boxplot()
ggplot(g_supinum_data, aes(y = pres_1_7_mean, x = as.factor(pres)))+
geom_boxplot()
str(g_supinum_data$pres_1_7_mean)
ggplot(g_supinum_data, aes(y = as.numeric(pres_1_7_mean), x = as.factor(pres)))+
geom_boxplot()
g_supinum_data
ggplot(g_supinum_data, aes(y = pres_1_7, x = as.factor(pres)))+
geom_boxplot()
ggplot(g_supinum_data, aes(y = pres_1_7, x = as.factor(pres)))+
geom_boxplot()
ggplot(g_supinum_data, aes(y = pres_1_7, x = pres))+
geom_boxplot()
df_species_bin <- df_species_tot
df_species_bin[ , -1] <- as.factor(ifelse(df_species_bin[ , -1] > 0, 1, 0))
df_species_bin
target_species <- df_species_bin %>%
select("logger_ID", "Gnaphalium.supinum", "Luzula.alpino.pilosa", "Salix.herbacea", "Sibbaldia.procumbens")
all_data <- target_species %>%
left_join(select(geo_data_full, logger_ID, geom), by = "logger_ID")
g_supinum_data <- all_data %>%
mutate(pres = Gnaphalium.supinum) %>%
select("logger_ID", "pres", "geom")
l_alpinospinosa_data <- all_data %>%
mutate(pres = Luzula.alpino.pilosa) %>%
select("logger_ID", "Luzula.alpino.pilosa", "geom")
s_herbacea_data <- all_data %>%
mutate(pres = Salix.herbacea) %>%
select("logger_ID", "Salix.herbacea" , "geom")
s_procumbens_data <- all_data %>%
mutate(pres = Sibbaldia.procumbens) %>%
select("logger_ID", "Sibbaldia.procumbens", "geom")
snowbeds_tif <- list.files("~/Desktop/GitHub/MEC8_Snowbed_Alpine_Species/Data/snow_cover_maps" ,pattern = "tif$", full.names=T)
snowbed_list <-  rast(snowbeds_tif)
plot(snowbed_list)
names(snowbed_list)
years <- stringr::str_extract(names(snowbed_list), "\\d{4}") %>% as.numeric()
months <- stringr::str_extract(names(snowbed_list), "\\d_\\d_")
snowbed_pres_1_7 <- snowbed_list[[years >= 2015 & years <= 2025 & months == "1_7_"]]
snowbed_fut_1_7  <- snowbed_list[[years >= 2090 & years <= 2100 & months == "1_7_"]]
plot(snowbed_pres_1_7)
plot(snowbed_fut_1_7)
snowbed_pres_1_7_sum <- app(snowbed_pres_1_7, mean)
snowbed_fut_1_7_sum <- app(snowbed_fut_1_7, mean)
plot(snowbed_pres_1_7_sum)
plot(snowbed_fut_1_7_sum)
snowbed_pres_1_5 <- snowbed_list[[years >= 2015 & years <= 2025 & months == "1_5_"]]
snowbed_fut_1_5  <- snowbed_list[[years >= 2090 & years <= 2100 & months == "1_5_"]]
plot(snowbed_pres_1_5)
plot(snowbed_fut_1_5)
snowbed_pres_1_5_sum <- app(snowbed_pres_1_5, mean)
snowbed_fut_1_5_sum <- app(snowbed_fut_1_5, mean)
plot(snowbed_pres_1_5_sum)
plot(snowbed_fut_1_5_sum)
plot(snowbed_pres_1_7_sum)
points(g_supinum_data$geom[g_supinum_data$pres == 1], col="red", pch = 16, cex=1)
points(l_alpinospinosa_data$geom[l_alpinospinosa_data$pres == 1], col="purple", pch = 16, cex=1)
points(s_herbacea_data$geom[s_herbacea_data$pres == 1], col="blue", pch = 16, cex=1)
points(s_procumbens_data$geom[s_procumbens_data$pres ==1], col="green", pch = 16, cex=1)
pres_1_7_mean <- terra::extract(snowbed_pres_1_7_sum, geo_data, ID = FALSE)
names(pres_1_7_mean) <- "pres_1_7"
fut_1_7_mean <- terra::extract(snowbed_fut_1_7_sum, geo_data, ID = FALSE)
names(fut_1_7_mean) <- "fut_1_7"
pres_1_5_mean <- terra::extract(snowbed_pres_1_5_sum, geo_data, ID = FALSE)
names(pres_1_5_mean) <- "pres_1_5"
fut_1_5_mean <- terra::extract(snowbed_fut_1_5_sum, geo_data, ID = FALSE)
names(fut_1_5_mean) <- "fut_1_5"
g_supinum_data <- data.frame(g_supinum_data, pres_1_7_mean, fut_1_7_mean, pres_1_5_mean, fut_1_5_mean)
l_alpinospinosa_data <- data.frame(l_alpinospinosa_data, pres_1_7_mean, fut_1_7_mean, pres_1_5_mean, fut_1_5_mean)
s_herbacea_data <- data.frame(s_herbacea_data, pres_1_7_mean, fut_1_7_mean, pres_1_5_mean, fut_1_5_mean)
s_procumbens_data <- data.frame(s_procumbens_data, pres_1_7_mean, fut_1_7_mean, pres_1_5_mean, fut_1_5_mean)
ggplot(g_supinum_data, aes(y = pres_1_7, x = pres))+
geom_boxplot()
ggplot(g_supinum_data, aes(y = pres_1_7, x = pres))+
geom_boxplot()
ggplot(l_alpinospinosa_data, aes(y = pres_1_7, x = pres))+
geom_boxplot()
l_alpinospinosa_data
g_supinum_data <- all_data %>%
mutate(pres = Gnaphalium.supinum) %>%
select("logger_ID", "pres", "geom")
l_alpinospinosa_data <- all_data %>%
mutate(pres = Luzula.alpino.pilosa) %>%
select("logger_ID", "pres", "geom")
s_herbacea_data <- all_data %>%
mutate(pres = Salix.herbacea) %>%
select("logger_ID", "pres" , "geom")
s_procumbens_data <- all_data %>%
mutate(pres = Sibbaldia.procumbens) %>%
select("logger_ID", "pres", "geom")
snowbeds_tif <- list.files("~/Desktop/GitHub/MEC8_Snowbed_Alpine_Species/Data/snow_cover_maps" ,pattern = "tif$", full.names=T)
snowbed_list <-  rast(snowbeds_tif)
plot(snowbed_list)
names(snowbed_list)
years <- stringr::str_extract(names(snowbed_list), "\\d{4}") %>% as.numeric()
months <- stringr::str_extract(names(snowbed_list), "\\d_\\d_")
snowbed_pres_1_7 <- snowbed_list[[years >= 2015 & years <= 2025 & months == "1_7_"]]
snowbed_fut_1_7  <- snowbed_list[[years >= 2090 & years <= 2100 & months == "1_7_"]]
plot(snowbed_pres_1_7)
plot(snowbed_fut_1_7)
snowbed_pres_1_7_sum <- app(snowbed_pres_1_7, mean)
snowbed_fut_1_7_sum <- app(snowbed_fut_1_7, mean)
plot(snowbed_pres_1_7_sum)
plot(snowbed_fut_1_7_sum)
snowbed_pres_1_5 <- snowbed_list[[years >= 2015 & years <= 2025 & months == "1_5_"]]
snowbed_fut_1_5  <- snowbed_list[[years >= 2090 & years <= 2100 & months == "1_5_"]]
plot(snowbed_pres_1_5)
plot(snowbed_fut_1_5)
snowbed_pres_1_5_sum <- app(snowbed_pres_1_5, mean)
snowbed_fut_1_5_sum <- app(snowbed_fut_1_5, mean)
plot(snowbed_pres_1_5_sum)
plot(snowbed_fut_1_5_sum)
plot(snowbed_pres_1_7_sum)
points(g_supinum_data$geom[g_supinum_data$pres == 1], col="red", pch = 16, cex=1)
points(l_alpinospinosa_data$geom[l_alpinospinosa_data$pres == 1], col="purple", pch = 16, cex=1)
points(s_herbacea_data$geom[s_herbacea_data$pres == 1], col="blue", pch = 16, cex=1)
points(s_procumbens_data$geom[s_procumbens_data$pres ==1], col="green", pch = 16, cex=1)
pres_1_7_mean <- terra::extract(snowbed_pres_1_7_sum, geo_data, ID = FALSE)
names(pres_1_7_mean) <- "pres_1_7"
fut_1_7_mean <- terra::extract(snowbed_fut_1_7_sum, geo_data, ID = FALSE)
names(fut_1_7_mean) <- "fut_1_7"
pres_1_5_mean <- terra::extract(snowbed_pres_1_5_sum, geo_data, ID = FALSE)
names(pres_1_5_mean) <- "pres_1_5"
fut_1_5_mean <- terra::extract(snowbed_fut_1_5_sum, geo_data, ID = FALSE)
names(fut_1_5_mean) <- "fut_1_5"
g_supinum_data <- data.frame(g_supinum_data, pres_1_7_mean, fut_1_7_mean, pres_1_5_mean, fut_1_5_mean)
l_alpinospinosa_data <- data.frame(l_alpinospinosa_data, pres_1_7_mean, fut_1_7_mean, pres_1_5_mean, fut_1_5_mean)
s_herbacea_data <- data.frame(s_herbacea_data, pres_1_7_mean, fut_1_7_mean, pres_1_5_mean, fut_1_5_mean)
s_procumbens_data <- data.frame(s_procumbens_data, pres_1_7_mean, fut_1_7_mean, pres_1_5_mean, fut_1_5_mean)
ggplot(g_supinum_data, aes(y = pres_1_7, x = pres))+
geom_boxplot()
ggplot(l_alpinospinosa_data, aes(y = pres_1_7, x = pres))+
geom_boxplot()
ggplot(s_herbacea_data, aes(y = pres_1_7, x = pres))+
geom_boxplot()
ggplot(s_procumbens_data, aes(y = pres_1_7, x = pres))+
geom_boxplot()
ggplot(g_supinum_data, aes(y = pres_1_7, x = pres))+
geom_boxplot()
ggplot(l_alpinospinosa_data, aes(y = pres_1_7, x = pres))+
geom_boxplot()
ggplot(s_herbacea_data, aes(y = pres_1_7, x = pres))+
geom_boxplot()
ggplot(s_procumbens_data, aes(y = pres_1_7, x = pres))+
geom_boxplot()
pres_1_7
s_herbacea_data
ggplot(g_supinum_data, aes(y = pres_1_7, x = pres))+
geom_boxplot()
ggplot(l_alpinospinosa_data, aes(y = pres_1_7, x = pres))+
geom_boxplot()
ggplot(s_herbacea_data, aes(y = pres_1_7, x = pres))+
geom_boxplot()
ggplot(s_procumbens_data, aes(y = pres_1_7, x = pres))+
geom_boxplot()
ggplot(g_supinum_data, aes(y = pres_1_7, x = pres))+
geom_boxplot()+
theme_bw()
# Present January - July Boxplots -------------------------------------------------
ggplot(g_supinum_data, aes(y = pres_1_7, x = pres))+
geom_boxplot()+
labs(title = "Gnaphalium.supinum - Present_1_7",
x = "Presence/Absence",
y = "Days of Snowcover")+
theme_bw()
ggplot(l_alpinospinosa_data, aes(y = pres_1_7, x = pres))+
geom_boxplot()+
labs(title = "Luzula.alpino.pilosa - Present_1_7"
x = "Presence/Absence",
ggplot(l_alpinospinosa_data, aes(y = pres_1_7, x = pres))+
geom_boxplot()+
labs(title = "Luzula.alpino.pilosa - Present_1_7",
x = "Presence/Absence",
y = "Days of Snowcover")+
theme_bw()
ggplot(s_herbacea_data, aes(y = pres_1_7, x = pres))+
geom_boxplot()+
labs(title = "Salix.herbacea - Present_1_7",
x = "Presence/Absence",
y = "Days of Snowcover")+
theme_bw()
ggplot(s_procumbens_data, aes(y = pres_1_7, x = pres))+
geom_boxplot()+
labs(title = "Sibbaldia.procumbens - Present_1_7",
x = "Presence/Absence",
y = "Days of Snowcover")+
theme_bw()
# Summary of Snowcover days -----------------------------------------
mean(g_supinum_data$pres_1_7[g_supinum_data$pres == 1])
# Present January - July Boxplots -------------------------------------------------
ggplot(g_supinum_data, aes(y = pres_1_7, x = pres))+
geom_boxplot()+
labs(title = "Gnaphalium.supinum - Present_1_7",
x = "Presence/Absence",
y = "Days of Snowcover")+
theme_bw()
# Summary of Snowcover days -----------------------------------------
mean(g_supinum_data$pres_1_7[g_supinum_data$pres == 0])
# Summary of Snowcover days -----------------------------------------
mean(g_supinum_data$pres_1_7[g_supinum_data$pres == 0])
# Summary of Snowcover days -----------------------------------------
mean(g_supinum_data$pres_1_7[g_supinum_data$pres == 1])
# Summary of Snowcover days -----------------------------------------
mean(g_supinum_data$pres_1_7[g_supinum_data$pres == 0], na.rm = T)
# Summary of Snowcover days -----------------------------------------
mean(g_supinum_data$pres_1_7[g_supinum_data$pres == 1], na.rm = T)
# Summary of Snowcover days -----------------------------------------
summary_g_supinum_1_7 <- g_supinum_data %>%
summarise(
species = "g_supinum",
q25 = quantile(pres_1_7, 0.25, na.rm = TRUE),
mean = mean(pres_1_7, na.rm = TRUE),
sd = sd(pres_1_7, na.rm = TRUE),
median = median(pres_1_7, na.rm = TRUE),
q75= quantile(pres_1_7, 0.75, na.rm = TRUE),
q95 = quantile(pres_1_7, 0.95, na.rm = TRUE)
)
# Summary of Snowcover days -----------------------------------------
summary_g_supinum_1_7 <- g_supinum_data %>%
filter(g_supinum_data, pres = 1) %>%
summarise(
species = "g_supinum",
q25 = quantile(pres_1_7, 0.25, na.rm = TRUE),
mean = mean(pres_1_7, na.rm = TRUE),
sd = sd(pres_1_7, na.rm = TRUE),
median = median(pres_1_7, na.rm = TRUE),
q75= quantile(pres_1_7, 0.75, na.rm = TRUE),
q95 = quantile(pres_1_7, 0.95, na.rm = TRUE)
)
# Summary of Snowcover days -----------------------------------------
summary_g_supinum_1_7 <- g_supinum_data %>%
filter(g_supinum_data, pres == 1) %>%
summarise(
species = "g_supinum",
q25 = quantile(pres_1_7, 0.25, na.rm = TRUE),
mean = mean(pres_1_7, na.rm = TRUE),
sd = sd(pres_1_7, na.rm = TRUE),
median = median(pres_1_7, na.rm = TRUE),
q75= quantile(pres_1_7, 0.75, na.rm = TRUE),
q95 = quantile(pres_1_7, 0.95, na.rm = TRUE)
)
# Summary of Snowcover days -----------------------------------------
summary_g_supinum_1_7 <- g_supinum_data %>%
filter(pres == 1) %>%
summarise(
species = "g_supinum",
q25 = quantile(pres_1_7, 0.25, na.rm = T),
mean = mean(pres_1_7, na.rm = T),
sd = sd(pres_1_7, na.rm = T),
median = median(pres_1_7, na.rm = T),
q75= quantile(pres_1_7, 0.75, na.rm = T),
q95 = quantile(pres_1_7, 0.95, na.rm = T)
)
summary_g_supinum_1_7
mean(g_supinum_data$pres_1_7[g_supinum_data$pres == 1], na.rm = T)
# Gnaphalium.supinum --------------------------------------------------------------
summary_g_supinum_1_7 <- g_supinum_data %>%
filter(pres == 1) %>%
summarise(
species = "g_supinum",
q25 = quantile(pres_1_7, 0.25, na.rm = T),
mean = mean(pres_1_7, na.rm = T),
sd = sd(pres_1_7, na.rm = T),
median = median(pres_1_7, na.rm = T),
q75= quantile(pres_1_7, 0.75, na.rm = T),
q95 = quantile(pres_1_7, 0.95, na.rm = T)
)
# Luzula.alpino.pilosa -------------------------------------------------------------
summary_l_alpinospinosa_pres_1_7 <- l_alpinospinosa_data %>%
filter(pres == 1) %>%
summarise(
species = "l_alpinospinosa",
q25 = quantile(pres_1_7, 0.25, na.rm = TRUE),
mean = mean(pres_1_7, na.rm = TRUE),
sd = sd(pres_1_7, na.rm = TRUE),
median = median(pres_1_7, na.rm = TRUE),
q75= quantile(pres_1_7, 0.75, na.rm = TRUE),
q95 = quantile(pres_1_7, 0.95, na.rm = TRUE)
)
# Salix.herbacea -------------------------------------------------------------
summary_s_herbacea_pres_1_7 <- s_herbacea_data %>%
filter(pres == 1) %>%
summarise(
species = "s_herbacea",
q25 = quantile(pres_1_7, 0.25, na.rm = TRUE),
mean = mean(pres_1_7, na.rm = TRUE),
sd = sd(pres_1_7, na.rm = TRUE),
median = median(pres_1_7, na.rm = TRUE),
q75= quantile(pres_1_7, 0.75, na.rm = TRUE),
q95 = quantile(pres_1_7, 0.95, na.rm = TRUE)
)
# Sibbaldia.procumbens -------------------------------------------------------------
summary_s_procumbens_1_7 <- s_procumbens_data %>%
filter(pres == 1) %>%
summarise(
species = "s_procumbens",
q25 = quantile(pres_1_7, 0.25, na.rm = TRUE),
mean = mean(pres_1_7, na.rm = TRUE),
sd = sd(pres_1_7, na.rm = TRUE),
median = median(pres_1_7, na.rm = TRUE),
q75= quantile(pres_1_7, 0.75, na.rm = TRUE),
q95 = quantile(pres_1_7, 0.95, na.rm = TRUE)
)
summary_snowcover_1_7
# Total summary of Snowcover days -----------------------------------------
summary_snowcover_1_7 <- summary_g_supinum_1_7 %>%
rbind(summary_l_alpinospinosa_pres_1_7, summary_s_herbacea_pres_1_7, summary_s_procumbens_1_7)
summary_snowcover_1_7
snowbed_pres_1_7
snowbed_pres_1_7_sum
trials <- snowbed_pres_1_7_sum
trials_fut <- snowbed_fut_1_7_sum
g_supinum_mean <- (summary_snowcover_1_7$mean[summary_snowcover_1_7$species == "g_supinum"])
g_supinum_mean
summary_snowcover_1_7
# Sibbaldia.procumbens -------------------------------------------------------------
summary_s_procumbens_1_7 <- s_procumbens_data %>%
filter(pres == 1) %>%
summarise(
species = "s_procumbens",
q25 = round(quantile(pres_1_7, 0.25, na.rm = TRUE)),
mean = round(mean(pres_1_7, na.rm = TRUE)),
sd = round(sd(pres_1_7, na.rm = TRUE)),
median = round(median(pres_1_7, na.rm = TRUE)),
q75= round(quantile(pres_1_7, 0.75, na.rm = TRUE)),
q95 = round(quantile(pres_1_7, 0.95, na.rm = TRUE))
)
summary_s_procumbens_1_7
# Gnaphalium.supinum --------------------------------------------------------------
summary_g_supinum_1_7 <- g_supinum_data %>%
filter(pres == 1) %>%
summarise(
species = "g_supinum",
q25 = round(quantile(pres_1_7, 0.25, na.rm = TRUE)),
mean = round(mean(pres_1_7, na.rm = TRUE)),
sd = round(sd(pres_1_7, na.rm = TRUE)),
median = round(median(pres_1_7, na.rm = TRUE)),
q75= round(quantile(pres_1_7, 0.75, na.rm = TRUE)),
q95 = round(quantile(pres_1_7, 0.95, na.rm = TRUE))
)
# Luzula.alpino.pilosa -------------------------------------------------------------
summary_l_alpinospinosa_pres_1_7 <- l_alpinospinosa_data %>%
filter(pres == 1) %>%
summarise(
species = "l_alpinospinosa",
q25 = round(quantile(pres_1_7, 0.25, na.rm = TRUE)),
mean = round(mean(pres_1_7, na.rm = TRUE)),
sd = round(sd(pres_1_7, na.rm = TRUE)),
median = round(median(pres_1_7, na.rm = TRUE)),
q75= round(quantile(pres_1_7, 0.75, na.rm = TRUE)),
q95 = round(quantile(pres_1_7, 0.95, na.rm = TRUE))
)
# Salix.herbacea -------------------------------------------------------------
summary_s_herbacea_pres_1_7 <- s_herbacea_data %>%
filter(pres == 1) %>%
summarise(
species = "s_herbacea",
q25 = round(quantile(pres_1_7, 0.25, na.rm = TRUE)),
mean = round(mean(pres_1_7, na.rm = TRUE)),
sd = round(sd(pres_1_7, na.rm = TRUE)),
median = round(median(pres_1_7, na.rm = TRUE)),
q75= round(quantile(pres_1_7, 0.75, na.rm = TRUE)),
q95 = round(quantile(pres_1_7, 0.95, na.rm = TRUE))
)
# Sibbaldia.procumbens -------------------------------------------------------------
summary_s_procumbens_1_7 <- s_procumbens_data %>%
filter(pres == 1) %>%
summarise(
species = "s_procumbens",
q25 = round(quantile(pres_1_7, 0.25, na.rm = TRUE)),
mean = round(mean(pres_1_7, na.rm = TRUE)),
sd = round(sd(pres_1_7, na.rm = TRUE)),
median = round(median(pres_1_7, na.rm = TRUE)),
q75= round(quantile(pres_1_7, 0.75, na.rm = TRUE)),
q95 = round(quantile(pres_1_7, 0.95, na.rm = TRUE))
)
# Total summary of Snowcover days -----------------------------------------
summary_snowcover_1_7 <- summary_g_supinum_1_7 %>%
rbind(summary_l_alpinospinosa_pres_1_7, summary_s_herbacea_pres_1_7, summary_s_procumbens_1_7)
summary_snowcover_1_7
trials <- snowbed_pres_1_7_sum
trials_fut <- snowbed_fut_1_7_sum
g_supinum_mean <- (summary_snowcover_1_7$mean[summary_snowcover_1_7$species == "g_supinum"])
trials[[]] <- ifel(
trials[[]] == g_supinum_mean,
1,
0)
trials
g_supinum_mean
trials[[]] <- ifel(
abs(trials[[]] - g_supinum_mean) <= 0.5,
1,
0)
tol <- 0.5
trials[[]] <- ifel(
abs(trials[[]] - g_supinum_mean) <= tol,
1,
0)
trials <- ifel(
abs(trials - g_supinum_mean) <= tol,
1,
0)
trials
plot(trials)
tol <- 1
trials <- ifel(
abs(trials - g_supinum_mean) <= tol,
1,
0)
plot(trials)
trials <- snowbed_pres_1_7_sum
trials_fut <- snowbed_fut_1_7_sum
g_supinum_mean <- (summary_snowcover_1_7$mean[summary_snowcover_1_7$species == "g_supinum"])
tol <- 1
trials <- ifel(
abs(trials - g_supinum_mean) <= tol,
1,
0)
plot(trials)
trials_fut <- ifel(
abs(trials_fut - g_supinum_mean) <= tol,
1,
0)
plot(trials_fut)
points(geo_data$geom, col = "purple", pch = 1, cex = 1) # all geom points from plots sampled
points(g_supinum_data$geom, col="red", pch = 1, cex = 1) # points from supium only
summary_snowcover_1_7
source("~/Desktop/GitHub/MEC8_Snowbed_Alpine_Species/snowbed_maps.R")
g_supinum_data
